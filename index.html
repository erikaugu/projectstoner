<script>
async function loadReps() {
  const repsContainer = document.getElementById('reps');
  const response = await fetch('https://api.github.com/repos/<projectstoner>/bandrep-site/contents/_reps');
  const files = await response.json();

  for (const file of files) {
    if (file.name.endsWith('.json')) {
      const repData = await fetch(file.download_url).then(r => r.json());
      const section = document.createElement('section');
      section.innerHTML = `
        <img src="${repData.image}" alt="${repData.date}">
        <h2>${new Date(repData.date).toLocaleDateString('sv-SE')}</h2>
        ${repData.tracks.map(t => `<audio controls src="${t.url}"></audio>`).join('')}
      `;
      repsContainer.appendChild(section);
    }
  }
}
loadReps();
</script>
